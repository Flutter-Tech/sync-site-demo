{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://innersource.flutter.com/schema/capability.json",
  "title": "Codebase Governor Capability",
  "description": "The _defaults.yml file configures the defaults for a Flutter-Global capability.",
  "type": "object",
  "properties": {"description":{"description":"Description of the capability.","type":"string"},"owner":{"description":"GitHub username of capability owner.","type":"string"},"maintainers":{"description":"GitHub usernames of capability maintainers.","type":"array","items":{"type":"string"},"uniqueItems":true},"defaults":{"description":"Default settings for all repos in your capability.","type":"object","properties":{"allow-pr-merge-options":{"description":"Merge options you allow for pull requests.","type":"object","additionalProperties":false,"properties":{"merge-commit":{"description":"Allow merge commits.","type":"boolean"},"squash":{"description":"Allow squash merges.","type":"boolean"},"rebase":{"description":"Allow rebase merge.","type":"boolean"}}},"suggest-branch-update-in-pr":{"description":"Whether GitHub UI prompts to update branch if out of date.","type":"boolean"},"allow-auto-merge":{"description":"Allow pull request auto-merge.","type":"boolean"},"delete-branch-on-merge":{"description":"Delete branch when pull request is merged.","type":"boolean"},"branch-protections":{"description":"Protect critical branches using branch protection.","type":"array","items":{"type":"object","additionalProperties":false,"properties":{"patterns":{"description":"Branch name pattern to apply the rules to.","type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true},"parameters":{"description":"Branch protection rules to apply.","type":"object","additionalProperties":false,"properties":{"required-reviews-count":{"description":"The number of required reviews before you can merge a pull request.","type":"number","minimum":0},"requires-codeowner-reviews":{"description":"Pull request requires an approval from the specified code owners before merge.","type":"boolean"},"allow-stale-reviews":{"description":"Pull request approval remains valid even when you make more changes after the review.","type":"boolean"},"allow-admin-bypass":{"description":"Allow repository and organisation admins to override the restrictions of a branch protection rule.","type":"boolean"},"pull-request-bypassers":{"description":"Users or teams that can bypass the branch protection rule.","type":"object","additionalProperties":false,"properties":{"users":{"description":"GitHub usernames to allow to bypass.","type":"array","items":{"type":"string"}},"teams":{"description":"GitHub team slugs to allow to bypass.","type":"array","items":{"type":"string"}},"apps":{"description":"GitHub app slugs to allow to bypass.","type":"array","items":{"type":"string"}}}},"required-status-check-jobs":{"description":"Status checks that must pass before merge.","type":"array","items":{"type":"object","additionalProperties":false,"properties":{"context":{"description":"Name of the job in the workflow file that defines the status check.","type":"string"},"app":{"description":"slug of the GitHub App that created the status check.","enum":["github-actions","sonarcloud","any"]}}}},"allow-stale-branch-merge":{"description":"Required status checks remain valid if branch out of date.","type":"boolean"},"allow-last-pusher-to-approve":{"description":"Allow the last person to push to a branch to review their own change.","type":"boolean"},"requires-commit-signatures":{"description":"Require commits to be signed to verify them.","type":"boolean"},"requires-conversation-resolution":{"description":"Requires PR conversations to be marked as resolved.","type":"boolean"},"requires-linear-history":{"description":"Prevents merge commits being created on the branch.","type":"boolean"},"allows-force-pushes":{"description":"(DEPRECATED) Allow all writers to force push and change history.","type":"boolean"},"force-push-allowed":{"description":"Allow all writers to force push and change history.","type":"boolean"},"force-push-restricted-to":{"description":"Restrict force push on this branch to specific users or teams.","type":"object","additionalProperties":false,"properties":{"users":{"description":"GitHub usernames who can force push.","type":"array","items":{"type":"string"}},"teams":{"description":"GitHub team slugs who can force push.","type":"array","items":{"type":"string"}},"apps":{"description":"GitHub app slugs who can force push.","type":"array","items":{"type":"string"}}}},"allows-deletions":{"description":"Allow the deletion of the branch.","type":"boolean"},"restrict-push-to":{"description":"Restrict push to this branch to specific users or teams.","type":"object","additionalProperties":false,"properties":{"users":{"description":"GitHub usernames who can push.","type":"array","items":{"type":"string"}},"teams":{"description":"GitHub team slugs who can push.","type":"array","items":{"type":"string"}},"apps":{"description":"GitHub app slugs who can push.","type":"array","items":{"type":"string"}}}},"restrict-push-exclude-create":{"description":"Exclude create branch from any push restrictions.","type":"boolean"},"restricts-review-dismissals":{"description":"Restrict pull request review dismissal to repository maintainers.","type":"boolean"}}}}}},"readers":{"description":"Users or teams who can read repository content.","type":"object","additionalProperties":false,"properties":{"users":{"description":"GitHub usernames who can read content.","type":"array","items":{"type":"string"}},"teams":{"description":"GitHub team slugs who can read content.","type":"array","items":{"type":"string"}}}},"contributors":{"description":"Users or teams who can write repository content.","type":"object","additionalProperties":false,"properties":{"users":{"description":"GitHub usernames who can write content.","type":"array","items":{"type":"string"}},"teams":{"description":"GitHub team slugs who can write content.","type":"array","items":{"type":"string"}}}},"admins":{"description":"Users or teams who can administer the repository.","type":"object","additionalProperties":false,"properties":{"users":{"description":"GitHub usernames who can administer the repo.","type":"array","items":{"type":"string"}},"teams":{"description":"GitHub team slugs who can administer the repo.","type":"array","items":{"type":"string"}}}}}}}
}