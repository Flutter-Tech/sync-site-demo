<!DOCTYPE html>
<html lang="en-UK" class="scroll-smooth">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="/assets/img/flutter-logo.png/assets/img/flutter-logo.png"/>
  <title>GitHub ❤️ Slack | Flutter Inner Source</title>
  <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon">
  <link rel="alternate" type="application/rss+xml" 
        title="Flutter Inner Source Blog" 
        href="https://innersource.flutter.com/feed.xml" />
  <link rel="stylesheet" href="/vite/assets/index-6347eac6.css" media="screen"/>
  <script defer type="text/javascript" src="/assets/js/main.js"></script>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PWJ62K2KJL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());
  gtag("config", "G-PWJ62K2KJL");
</script>

  
  

  
  
  <script src="/vite/assets/index-4ed993c7.js" crossorigin="anonymous" type="module"></script>


</head>

<body class="theme-pink">

  <div class="relative z-40" hidden role="mobile-menu" aria-modal="true">
  <div class="fixed inset-0 bg-gray-600 bg-opacity-75"></div>
  <div class="fixed inset-0 z-40 flex">
    <div class="relative flex flex-col flex-1 w-full max-w-xs bg-white focus:outline-none">
      <div class="absolute top-0 right-0 pt-2 -mr-12">
        <button type="button" id="close-mobile-menu"
          class="flex items-center justify-center w-10 h-10 ml-1 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
          <span class="sr-only">Close sidebar</span>
          <svg class="w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
            stroke-width="1.5" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="flex-1 h-0 pt-5 pb-4 overflow-y-auto">
        <div class="flex items-center flex-shrink-0 px-4">
          <img class="w-auto h-8" src="/assets/img/flutter-logo.png" alt="Flutter">
        </div>
        <nav aria-label="Sidebar" class="mt-5">
          <hr class="text-gray-200"/>
          <div class="flex flex-col px-3 mt-4 mb-4 space-y-2 text-xl">
            
  

  

  
    
      <a  href="/how/" 
        title="Inner source">Inner source</a></li>
    
  

  

  

  
    
      <a  href="/docs/" 
        title="Docs">Docs</a></li>
    
  

  

  

  
    
      <a  class="selected" href="/blog/" 
        title="Blog">Blog</a></li>
    
  

          </div>
          <hr class="text-gray-200"/>
          <div class="mt-4">
            




<ul class="sidebar-nav nav-parent-icon text-sm lg:text-base font-bold relative pt-0 ml-0 root-menu pb-20">
    
    
</ul>


          </div>
        </nav>
      </div>
    </div>
    <div class="flex-shrink-0 w-14" aria-hidden="true">
    </div>
  </div>
</div>
  <header class="sticky top-0 z-20 w-full bg-white shadow">
  <div class="flex items-center justify-between px-4 py-6 sm:px-6 lg:justify-start lg:space-x-10">
    <div>
      <a href="/" class="flex">
        <img class="w-auto h-8 pl-3 sm:h-10" src="/assets/img/flutter-logo.svg" alt="">
      </a>
    </div>
    <div class="-my-2 -mr-2 lg:hidden flex-1 text-right">
      <button type="button" id="open-mobile-menu"
        class="inline-flex items-center justify-center p-2 text-gray-400 bg-white rounded-md hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-sky-500"
        aria-expanded="false">
        <span class="sr-only">Open menu</span>
        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
        </svg>
      </button>
    </div>
    <div class="lg:flex lg:flex-1 lg:items-center lg:justify-between">
      <nav class="hidden lg:flex space-x-10 h-menu">
        
  

  

  
    
      <a  href="/how/" 
        title="Inner source">Inner source</a></li>
    
  

  

  

  
    
      <a  href="/docs/" 
        title="Docs">Docs</a></li>
    
  

  

  

  
    
      <a  class="selected" href="/blog/" 
        title="Blog">Blog</a></li>
    
  

      </nav>
      <div class="flex items-center">
        <div id="root-search"></div>
      </div>
    </div>
  </div>
</header>
  <div>
    <main class="relative z-0">
      <div class="inset-0 pb-10">
        <div>
          <div>
            <!-- TITLE -->
            
            <div class="relative flex-1 pb-12 prose max-w-none md:prose-base lg:prose-base xs:prose-sm content">
  <div class="not-prose">
    <div class="bg-gray-200 fit-content">
      <div class="grid grid-cols-6">
        <div class="hidden lg:block"></div>
        <div class="col-span-3 px-8 py-10 lg:col-span-2 md:text-left">
          <div>
            
            <a href="/blog/categories#story" class="block mb-3">
              <span
                class="hover:underline bg-secondary inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium text-white">Story</span>
            </a>
            
            <h1 class="text-2xl sm:text-3xl font-bold tracking-tight md:text-5xl">
              GitHub ❤️ Slack
            </h1>
            <div class="pl-1 pt-2">
              
              <strong>by:</strong> Nuno Crisóstomo
              
            </div>
          </div>
        </div>
        
<div class="relative col-span-3" style="background: url(/assets/blog/2023-07-19-github-slack-integration.png) no-repeat center; background-size: cover;"></div>

      </div>
    </div>
  </div>
</div>
            
            <!-- TITLE -->
            <div class="relative flex-1 min-w-0 pb-12 prose max-w-none md:prose-base lg:prose-base xs:prose-sm content">
              <div class="grid grid-cols-6 gap-0 bg-gradient-to-b from-slate-50ls">
                <div class="col-span-6 px-8 lg:col-span-4 lg:col-start-2">
                  <p>Our <a href="/docs/slack/">Slack integration docs describe 2 ways to integrate GitHub and Slack</a>:</p>

<ol>
  <li><strong>Slack GitHub App</strong> – for quick and easy notifications, but you can’t customise the message.</li>
  <li><strong>GitHub Action triggers a Slack Workflow</strong> – for flexible notification logic and message format, but harder to setup.</li>
</ol>

<p>But how do engineers use these integrations? This post explores a few examples.</p>

<h2 id="show-me-the-prs">Show me the PRs!</h2>

<p>A typical use case is to notify a Slack channel when opening, updating, or merging pull requests in a repository. This is the most common use of the Slack GitHub App using the <a href="https://github.com/integrations/slack#features"><code class="language-plaintext highlighter-rouge">/github</code> command</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/github subscribe Flutter-Global/my-repo-name pulls
</code></pre></div></div>

<p><img src="/assets/blog/github-slack-integration/pr-default.png" class="max-w-xl rounded-lg" /></p>

<p>This is a quick and easy way to get started, but this default message format is long (I’ve just captured the top bit above!). With lots of pull requests, the channel gets hard to read.</p>

<h2 id="concise-pr-notifications">Concise PR Notifications</h2>

<p>For busy channels, a more concise format is better. For example, using a <a href="/docs/slack/#github-action-triggers-a-slack-workflow">GitHub Action and Slack Workflow</a> we post a concise link to an RFC pull request when it’s ready for review:</p>

<p><img src="/assets/blog/github-slack-integration/pr-concise.png" class="max-w-2xl rounded-lg" /></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">name</span><span class="pi">:</span> <span class="s">RFC PR Slack Message</span>
<span class="na">on</span><span class="pi">:</span>
  <span class="na">pull_request</span><span class="pi">:</span>
    <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span> <span class="nv">ready_for_review</span> <span class="pi">]</span>
    <span class="na">paths</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">rfcs/**'</span>

<span class="na">permissions</span><span class="pi">:</span> <span class="pi">{}</span>
<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">rfc_notification</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">slackapi/slack-github-action@d419a1666387fff2f2205a3aa17cb432f3613051</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">payload</span><span class="pi">:</span> <span class="pi">|</span>
            <span class="s">{</span>
              <span class="s">"title": ${{ toJSON(env.TITLE) }},</span>
              <span class="s">"actor": ${{ toJSON(github.actor) }},</span>
              <span class="s">"url": ${{ toJSON(env.HTML_URL) }}</span>
            <span class="s">}</span>
        <span class="na">env</span><span class="pi">:</span>
          <span class="na">SLACK_WEBHOOK_URL</span><span class="pi">:</span> <span class="s">${{ secrets.RFC_SLACK_WEBHOOK_URL }}</span>
          <span class="na">TITLE</span><span class="pi">:</span> <span class="s">${{ github.event.pull_request.title }}</span>
          <span class="na">HTML_URL</span><span class="pi">:</span> <span class="s">${{ github.event.pull_request.html_url }}</span>
</code></pre></div></div>

<p>The <a href="https://github.com/marketplace/actions/close-stale-issues">actions/stale</a> GitHub Action is often used to manage stale pull requests – this adds a <code class="language-plaintext highlighter-rouge">Stale</code> label to the PR before closing it. Some users use this label to trigger a Slack notification:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">name</span><span class="pi">:</span> <span class="s">Notify Stale PRs to Slack</span>

<span class="na">on</span><span class="pi">:</span>
  <span class="na">pull_request</span><span class="pi">:</span>
    <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span> <span class="nv">labeled</span> <span class="pi">]</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">notify-stale-prs</span><span class="pi">:</span>
    <span class="na">if</span><span class="pi">:</span> <span class="s">${{ github.event.label.name == 'Stale' }}</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">slackapi/slack-github-action</span>
    <span class="c1"># ...</span>
</code></pre></div></div>

<h2 id="cicd-result-notifications">CI/CD Result Notifications</h2>

<p>When using <a href="/docs/actions/">GitHub Actions for CI</a>, it helps to know in Slack when a build passes or fails. You can simply add a messaging step to an existing GitHub Workflow job, or define separate pass and fail notification jobs that depend on the main CI jobs:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">jobs</span><span class="pi">:</span>
    <span class="na">build-and-push-apps</span><span class="pi">:</span>
       <span class="c1"># ...</span>

    <span class="na">success-slack-message</span><span class="pi">:</span>
        <span class="na">if</span><span class="pi">:</span> <span class="s">success()</span>
        <span class="na">needs</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">build-and-push-apps</span><span class="pi">]</span>
        <span class="na">steps</span><span class="pi">:</span>
            <span class="c1"># ...</span>
            <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">slackapi/slack-github-action@d419a1666387fff2f2205a3aa17cb432f3613051</span>
              <span class="na">with</span><span class="pi">:</span>
                  <span class="na">payload</span><span class="pi">:</span> <span class="pi">|</span>
                      <span class="s">{</span>
                      <span class="s">	"message": ":white_check_mark: Build of ${{ github.head_ref }}  successful!",</span>
                      <span class="s">}</span>
    
    <span class="na">failure-slack-message</span><span class="pi">:</span>
        <span class="na">if</span><span class="pi">:</span> <span class="s">failure()</span>
        <span class="na">needs</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">build-and-push-apps</span><span class="pi">]</span>
        <span class="na">steps</span><span class="pi">:</span>
            <span class="c1"># ...</span>
            <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">slackapi/slack-github-action@d419a1666387fff2f2205a3aa17cb432f3613051</span>
              <span class="na">with</span><span class="pi">:</span>
                  <span class="na">payload</span><span class="pi">:</span> <span class="pi">|</span>
                      <span class="s">{</span>
                      <span class="s">	"message": ":x: Build of ${{ github.head_ref }} failed!",</span>
                      <span class="s">}</span>
</code></pre></div></div>


                  <hr/>
                  <strong>by: </strong>Nuno Crisóstomo<br/>
                  <strong>in: </strong><time datetime="2023/07/19">19 Jul 2023</time><br/>
                  
                  
                    <strong>tags: </strong>
                    
                      <a href="/blog/tags#pull-requests" class="mr-1 inline-block hover:underline lowercase">Pull Requests</a>
                    
                      <a href="/blog/tags#slack" class="mr-1 inline-block hover:underline lowercase">Slack</a>
                    
                    <br/>
                  
                  <strong>category: </strong><a href="/blog/categories#story" class="hover:underline lowercase">Story</a><br/>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <footer class="bg-gray-200 drop-shadow-2xl z-50 bottom-0">
  <div class="max-h-50 mx-auto max-w-7xl overflow-hidden py-0 sm:py-12 lg:px-8">
    

    <nav class="-mb-6 columns-2 sm:flex sm:justify-center sm:space-x-12" aria-label="Footer">

      
        

        

        
          
            <div class="pb-6">
              <a href="/how/" class="text-sm leading-6 text-gray-600 hover:text-gray-900">Inner source</a>
            </div>
          
        
      
        

        

        
          
            <div class="pb-6">
              <a href="/docs/" class="text-sm leading-6 text-gray-600 hover:text-gray-900">Docs</a>
            </div>
          
        
      
        

        

        
          
            <div class="pb-6">
              <a href="/blog/" class="text-sm leading-6 text-gray-600 hover:text-gray-900">Blog</a>
            </div>
          
        
      
      <div class="pb-6">
        <a href="/community/" class="text-sm leading-6 text-gray-600 hover:text-gray-900">Support</a>
      </div>
    </nav>
    <p class="mt-6 text-center text-xs leading-5 text-gray-500">&copy; <script>document.write(/\d{4}/.exec(Date())[0])</script> Flutter Entertainment plc</p>
  </div>
</footer>

</body>

</html>